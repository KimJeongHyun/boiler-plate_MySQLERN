<!DOCTYPE html>
<html>
  <head>
    <title>새 글</title>
    <link rel='stylesheet' href='css/style.css' />
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
  </head>
  <body>
    <div include-html="commonHTML/newSideBarUser.html"></div>
    <script src="commonJS/includeHTML.js"></script>
    <div class= "ContentContainer" id="ContentContainer">
      <div class="ContentField">
        <form action="/insert" method="post">
          <table style="width:80vw; height:80vh; padding-left:50px;" frame=void>
            <tr>
               <td colspan="2" style="height:10%; padding-top:3vh;">
                 <input style="border:none; width:100%; font-size:2em; font-weight:bold" type="text" name="title" placeholder="제목을 작성해주세요!" > 
              </td>
            </tr>
            <tr>
              <td>
                <input type="button" id = "<%=id%>" value="파일 업로드" onclick="openChild(this)">
                <span id="sInput" style="font-size:12px"></span><a href="/uploadedFileDelete/<%=id%>"><input type="button" tyle="margin-left:20px" value="업로드 취소" onclick="deleteFile()"></a>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="padding-top:20px;">
                 <textarea style="border:none; width:100%; height:100%; padding-top:20px; font-size:1.3em" name="content" placeholder="내용을 작성해주세요!" required ></textarea>
              </td>
            </tr>
            <tr>
              <td colspan="2" style="text-align:right;">
                  <button type="submit">글 쓰기</button>
              </td>
            </tr>
          </table>
        </form>
        <input id="target_btn" type="button" value="버튼" onclick='btnDisabled()' hidden>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    function btnActive() {
      const target=document.getElementById('target_btn');
      target.disabled=false;
    }
    function btnDisabled() {
      const target=document.getElementById('target_btn');
      target.disabled=true;
    }
    function openChild(e)
    {
      // window.name = "부모창 이름"; 
      window.name = "parentForm";
      // window.open("open할 window", "자식창 이름", "팝업창 옵션");
      openWin = window.open("/fileUploadPage/"+e.id,
              "childForm", "width=570, height=350, resizable = no, scrollbars = no");    
    }
    function deleteFile(){
      document.getElementById('sInput').innerText="";
    }
  </script>
  <script>
    window.onload=function(){
      let menuBtn = document.querySelector('#menuBtn');
      let sideBar = document.getElementById('sideMenu');
      let bottomContent = document.getElementById('guestContent');
      let contentContainer = document.querySelector('#ContentContainer');
      menuBtn.addEventListener('click',function(){
          sideBar.classList.toggle('active');
          bottomContent.classList.toggle('active');
          contentContainer.classList.toggle('active');
      })
    }
  </script>
</html>